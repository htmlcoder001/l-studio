"use strict";var wpmfSnackbarModule=void 0;(function($){wpmfSnackbarModule={snackbar_ids:[],$snackbar_wrapper:null,snackbar_defaults:{onClose:function onClose(){},is_undoable:false,onUndo:function onUndo(){},icon:'<span class="material-icons-outlined wpmf-snack-icon"> campaign </span>',is_closable:true,auto_close:true,auto_close_delay:6e3,is_progress:false,percentage:null},initModule:function initModule(){wpmfSnackbarModule.$snackbar_wrapper=$('<div class="wpmf-snackbar-wrapper"></div>').appendTo("body")},show:function show(options){if(options===undefined){options={}}options=$.extend({},wpmfSnackbarModule.snackbar_defaults,options);if(typeof options.id==="undefined"){options.id=options.content}if(options.id!==undefined){wpmfSnackbarModule.snackbar_ids[options.id]=options}return wpmfSnackbarModule.renderSnack(options)},renderSnack:function renderSnack(notification_options){var notification_class="wpmf-snackbar-wrap";if(typeof notification_options!=="undefined"&&typeof notification_options.error!=="undefined"&&notification_options.error){notification_class+=" wpmf-snackbar-error"}var snack='<div class="'+notification_class+'">';var snack_count=0;Object.keys(wpmfSnackbarModule.snackbar_ids).map(function(snack_id,index){snack_count++;var options=wpmfSnackbarModule.snackbar_ids[snack_id];var undo="";if(options.is_undoable){undo='<a href="#" class="wpmf-snackbar-undo">'+wpmf.l18n.wpmf_undo+"</a>"}var id="";if(options.id){id='data-id="'+options.id+'"'}snack+="<div "+id+' class="wpmf-snackbar">\n                        '+options.icon+'\n                        <div class="wpmf-snackbar-content">'+options.content+"</div>\n                        "+undo+"                        \n                    </div>"});snack+='<a class="wpmf-snackbar-close" href="#"><i class="material-icons">close</i></a>';snack+="</div>";$(".wpmf-snackbar-wrap").remove();if(snack_count>0){var $snack=$(snack).prependTo(wpmfSnackbarModule.$snackbar_wrapper);$snack.find(".wpmf-snackbar-undo").click(function(e){var snack_id=$(this).closest(".wpmf-snackbar").data("id");e.preventDefault();wpmfSnackbarModule.snackbar_ids[snack_id].onUndo();wpmfSnackbarModule.snackbar_ids[snack_id].onClose=function(){};wpmfSnackbarModule.snackbar_ids[snack_id].close(snack_id)});Object.keys(wpmfSnackbarModule.snackbar_ids).map(function(snack_id,index){var options=wpmfSnackbarModule.snackbar_ids[snack_id];if(options.auto_close){setTimeout(function(){wpmfSnackbarModule.close(options.id)},options.auto_close_delay)}});$snack.find(".wpmf-snackbar-close").click(function(e){$(this).closest(".wpmf-snackbar-wrap").remove();wpmfSnackbarModule.snackbar_ids=[]})}},close:function close(snack_id){if(snack_id!==undefined){delete wpmfSnackbarModule.snackbar_ids[snack_id]}wpmfSnackbarModule.renderSnack()},getFromId:function getFromId(id){if(wpmfSnackbarModule.snackbar_ids[id]===undefined){return null}return id},setProgress:function setProgress($snack,percentage){if($snack===null){return}var $progress=$snack.find(".wpmfliner_progress > div");if(percentage!==undefined){$progress.addClass("determinate").removeClass("indeterminate");$progress.css("width",percentage+"%")}else{$progress.addClass("indeterminate").removeClass("determinate")}}};$(document).ready(function(){wpmfSnackbarModule.initModule()})})(jQuery);